"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[202],{98189:function(t,e,n){var r=n(1413),a=n(29439),c=n(72791),s=n(65509),u=n(52419),i=n(24215),o=n(86533),p=n(68823),l=n(91523),d=n(50538),f=n(763),h=n.n(f),m=n(59434),x=n(80184),g=s.Z.Meta;e.Z=function(t){var e=t.product,n=(0,c.useState)("Click to add"),f=(0,a.Z)(n,2),v=f[0],b=f[1],Z=(0,m.v9)((function(t){return(0,r.Z)({},t)})),j=(Z.user,Z.cart,(0,m.I0)()),k=e.images,y=e.title,w=e.description,N=e.slug,S=e.price;return(0,x.jsxs)(x.Fragment,{children:[e&&e.ratings&&e.ratings.length>0?(0,d.m)(e):(0,x.jsx)("div",{className:"text-center pt-1 pb-3",children:"No rating yet"}),(0,x.jsx)(s.Z,{cover:(0,x.jsx)("img",{src:k&&k.length?k[0].url:p,style:{height:"150px",objectFit:"cover"},className:"p-1"}),actions:[(0,x.jsxs)(l.rU,{to:"/product/".concat(N),children:[(0,x.jsx)(i.Z,{className:"text-warning"})," ",(0,x.jsx)("br",{})," View Product"]}),(0,x.jsx)(u.Z,{title:v,children:(0,x.jsxs)("a",{onClick:function(){var t=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.push((0,r.Z)((0,r.Z)({},e),{},{count:1}));var n=h().uniqWith(t,h().isEqual);localStorage.setItem("cart",JSON.stringify(n)),b("Added"),j({type:"ADD_TO_CART",payload:n}),j({type:"SET_VISIBLE",payload:!0})}},disabled:e.quantity<1,children:[(0,x.jsx)(o.Z,{className:"text-danger"})," ",(0,x.jsx)("br",{}),e.quantity<1?"Out of stock":"Add to Cart"]})})],children:(0,x.jsx)(g,{title:"".concat(y," - $").concat(S),description:"".concat(w&&w.substring(0,40),"...")})})]})}},50538:function(t,e,n){n.d(e,{m:function(){return c}});n(72791);var r=n(45778),a=n(80184),c=function(t){if(t&&t.ratings){var e=t&&t.ratings,n=[],c=e.length;e.map((function(t){return n.push(t.star)}));var s=n.reduce((function(t,e){return t+e}),0),u=5*s/(5*c);return(0,a.jsx)("div",{className:"text-center pt-1 pb-3",children:(0,a.jsxs)("span",{children:[(0,a.jsx)(r.Z,{starDimension:"20px",starSpacing:"2px",starRatedColor:"red",rating:u,editing:!1})," ","(",t.ratings.length,")"]})})}}},3818:function(t,e,n){n.d(e,{Gt:function(){return l},PU:function(){return o},cy:function(){return i},kL:function(){return u},m$:function(){return p}});var r=n(74165),a=n(15861),c=n(74569),s=n.n(c),u=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().get("".concat("https://ecom-backend-steel.vercel.app/api","/subs"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().get("".concat("https://ecom-backend-steel.vercel.app/api","/sub/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().delete("".concat("https://ecom-backend-steel.vercel.app/api","/sub/").concat(e),{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),p=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n,a){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().put("".concat("https://ecom-backend-steel.vercel.app/api","/sub/").concat(e),n,{headers:{authtoken:a}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),l=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().post("".concat("https://ecom-backend-steel.vercel.app/api","/sub"),e,{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},5202:function(t,e,n){n.r(e);var r=n(29439),a=n(72791),c=n(3818),s=n(98189),u=n(80184);e.default=function(t){var e=t.match,n=(0,a.useState)({}),i=(0,r.Z)(n,2),o=i[0],p=i[1],l=(0,a.useState)([]),d=(0,r.Z)(l,2),f=d[0],h=d[1],m=(0,a.useState)(!1),x=(0,r.Z)(m,2),g=x[0],v=x[1],b=e.params.slug;return(0,a.useEffect)((function(){v(!0),(0,c.cy)(b).then((function(t){console.log(JSON.stringify(t.data,null,4)),p(t.data.sub),h(t.data.products),v(!1)}))}),[b]),(0,u.jsxs)("div",{className:"container-fluid",children:[(0,u.jsx)("div",{className:"row",children:(0,u.jsx)("div",{className:"col",children:g?(0,u.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"Loading..."}):(0,u.jsxs)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:[f.length,' Products in "',o.name,'" sub category']})})}),(0,u.jsx)("div",{className:"row",children:f.map((function(t){return(0,u.jsx)("div",{className:"col",children:(0,u.jsx)(s.Z,{product:t})},t._id)}))})]})}},68823:function(t,e,n){t.exports=n.p+"static/media/laptop.db0a6ff48b7be36ecd23.png"}}]);
//# sourceMappingURL=202.5f2aac88.chunk.js.map