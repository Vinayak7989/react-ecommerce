{"version":3,"file":"static/js/976.879531f3.chunk.js","mappings":"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","sources":["components/cards/ProductCard.js","functions/product.js","functions/rating.js","functions/user.js","components/cards/ProductListItems.js","components/modal/RatingModal.js","components/cards/SingleProduct.js","pages/Product.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Card, Tooltip } from \"antd\";\nimport { EyeOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\nimport laptop from \"../../images/laptop.png\";\nimport { Link } from \"react-router-dom\";\nimport { showAverage } from \"../../functions/rating\";\nimport _ from \"lodash\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nconst { Meta } = Card;\n\nconst ProductCard = ({ product }) => {\n  const [tooltip, setTooltip] = useState(\"Click to add\");\n\n  // redux\n  const { user, cart } = useSelector((state) => ({ ...state }));\n  const dispatch = useDispatch();\n\n  const handleAddToCart = () => {\n    // create cart array\n    let cart = [];\n    if (typeof window !== \"undefined\") {\n      // if cart is in local storage GET it\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      }\n      // push new product to cart\n      cart.push({\n        ...product,\n        count: 1,\n      });\n      // remove duplicates\n      let unique = _.uniqWith(cart, _.isEqual);\n      // save to local storage\n      // console.log('unique', unique)\n      localStorage.setItem(\"cart\", JSON.stringify(unique));\n      // show tooltip\n      setTooltip(\"Added\");\n\n      // add to reeux state\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: unique,\n      });\n      // show cart items in side drawer\n      dispatch({\n        type: \"SET_VISIBLE\",\n        payload: true,\n      });\n    }\n  };\n\n  // destructure\n  const { images, title, description, slug, price } = product;\n  return (\n    <>\n      {product && product.ratings && product.ratings.length > 0 ? (\n        showAverage(product)\n      ) : (\n        <div className=\"text-center pt-1 pb-3\">No rating yet</div>\n      )}\n\n      <Card\n        cover={\n          <img\n            src={images && images.length ? images[0].url : laptop}\n            style={{ height: \"150px\", objectFit: \"cover\" }}\n            className=\"p-1\"\n          />\n        }\n        actions={[\n          <Link to={`/product/${slug}`}>\n            <EyeOutlined className=\"text-warning\" /> <br /> View Product\n          </Link>,\n          <Tooltip title={tooltip}>\n            <a onClick={handleAddToCart} disabled={product.quantity < 1}>\n              <ShoppingCartOutlined className=\"text-danger\" /> <br />\n              {product.quantity < 1 ? \"Out of stock\" : \"Add to Cart\"}\n            </a>\n          </Tooltip>,\n        ]}\n      >\n        <Meta\n          title={`${title} - $${price}`}\n          description={`${description && description.substring(0, 40)}...`}\n        />\n      </Card>\n    </>\n  );\n};\n\nexport default ProductCard;\n","import axios from \"axios\";\n\nexport const createProduct = async (product, authtoken) =>\n  await axios.post(`${process.env.REACT_APP_API}/product`, product, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const getProductsByCount = async (count) =>\n  await axios.get(`${process.env.REACT_APP_API}/products/${count}`);\n\nexport const removeProduct = async (slug, authtoken) =>\n  await axios.delete(`${process.env.REACT_APP_API}/product/${slug}`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const getProduct = async (slug) =>\n  await axios.get(`${process.env.REACT_APP_API}/product/${slug}`);\n\nexport const updateProduct = async (slug, product, authtoken) =>\n  await axios.put(`${process.env.REACT_APP_API}/product/${slug}`, product, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const getProducts = async (sort, order, page) =>\n  await axios.post(`${process.env.REACT_APP_API}/products`, {\n    sort,\n    order,\n    page,\n  });\n\nexport const getProductsCount = async () =>\n  await axios.get(`${process.env.REACT_APP_API}/products/total`);\n\nexport const productStar = async (productId, star, authtoken) =>\n  await axios.put(\n    `${process.env.REACT_APP_API}/product/star/${productId}`,\n    { star },\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n\nexport const getRelated = async (productId) =>\n  await axios.get(`${process.env.REACT_APP_API}/product/related/${productId}`);\n\nexport const fetchProductsByFilter = async (arg) =>\n  await axios.post(`${process.env.REACT_APP_API}/search/filters`, arg);\n","import React from \"react\";\nimport StarRating from \"react-star-ratings\";\n\nexport const showAverage = (p) => {\n  if (p && p.ratings) {\n    let ratingsArray = p && p.ratings;\n    let total = [];\n    let length = ratingsArray.length;\n    // console.log(\"length\", length);\n\n    ratingsArray.map((r) => total.push(r.star));\n    let totalReduced = total.reduce((p, n) => p + n, 0);\n    // console.log(\"totalReduced\", totalReduced);\n\n    let highest = length * 5;\n    // console.log(\"highest\", highest);\n\n    let result = (totalReduced * 5) / highest;\n    // console.log(\"result\", result);\n\n    return (\n      <div className=\"text-center pt-1 pb-3\">\n        <span>\n          <StarRating\n            starDimension=\"20px\"\n            starSpacing=\"2px\"\n            starRatedColor=\"red\"\n            rating={result}\n            editing={false}\n          />{\" \"}\n          ({p.ratings.length})\n        </span>\n      </div>\n    );\n  }\n};\n","import axios from \"axios\";\n\nexport const userCart = async (cart, authtoken) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/user/cart`,\n    { cart },\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n\nexport const getUserCart = async (authtoken) =>\n  await axios.get(`${process.env.REACT_APP_API}/user/cart`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const emptyUserCart = async (authtoken) =>\n  await axios.delete(`${process.env.REACT_APP_API}/user/cart`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const saveUserAddress = async (authtoken, address) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/user/address`,\n    { address },\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n\nexport const applyCoupon = async (authtoken, coupon) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/user/cart/coupon`,\n    { coupon },\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n\nexport const createOrder = async (stripeResponse, authtoken) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/user/order`,\n    { stripeResponse },\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n\nexport const getUserOrders = async (authtoken) =>\n  await axios.get(`${process.env.REACT_APP_API}/user/orders`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const getWishlist = async (authtoken) =>\n  await axios.get(`${process.env.REACT_APP_API}/user/wishlist`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const removeWishlist = async (productId, authtoken) =>\n  await axios.put(\n    `${process.env.REACT_APP_API}/user/wishlist/${productId}`,\n    {},\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n\nexport const addToWishlist = async (productId, authtoken) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/user/wishlist`,\n    { productId },\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n\nexport const createCashOrderForUser = async (\n  authtoken,\n  COD,\n  couponTrueOrFalse\n) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/user/cash-order`,\n    { couponApplied: couponTrueOrFalse, COD },\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst ProductListItems = ({ product }) => {\n  const {\n    price,\n    category,\n    subs,\n    shipping,\n    color,\n    brand,\n    quantity,\n    sold,\n  } = product;\n\n  return (\n    <ul className=\"list-group\">\n      <li className=\"list-group-item\">\n        Price{\" \"}\n        <span className=\"label label-default label-pill pull-xs-right\">\n          $ {price}\n        </span>\n      </li>\n\n      {category && (\n        <li className=\"list-group-item\">\n          Category{\" \"}\n          <Link\n            to={`/category/${category.slug}`}\n            className=\"label label-default label-pill pull-xs-right\"\n          >\n            {category.name}\n          </Link>\n        </li>\n      )}\n\n      {subs && (\n        <li className=\"list-group-item\">\n          Sub Categories\n          {subs.map((s) => (\n            <Link\n              key={s._id}\n              to={`/sub/${s.slug}`}\n              className=\"label label-default label-pill pull-xs-right\"\n            >\n              {s.name}\n            </Link>\n          ))}\n        </li>\n      )}\n\n      <li className=\"list-group-item\">\n        Shipping{\" \"}\n        <span className=\"label label-default label-pill pull-xs-right\">\n          {shipping}\n        </span>\n      </li>\n\n      <li className=\"list-group-item\">\n        Color{\" \"}\n        <span className=\"label label-default label-pill pull-xs-right\">\n          {color}\n        </span>\n      </li>\n\n      <li className=\"list-group-item\">\n        Brand{\" \"}\n        <span className=\"label label-default label-pill pull-xs-right\">\n          {brand}\n        </span>\n      </li>\n\n      <li className=\"list-group-item\">\n        Available{\" \"}\n        <span className=\"label label-default label-pill pull-xs-right\">\n          {quantity}\n        </span>\n      </li>\n\n      <li className=\"list-group-item\">\n        Sold{\" \"}\n        <span className=\"label label-default label-pill pull-xs-right\">\n          {sold}\n        </span>\n      </li>\n    </ul>\n  );\n};\n\nexport default ProductListItems;\n","import React, { useState } from \"react\";\nimport { Modal, Button } from \"antd\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\nimport { StarOutlined } from \"@ant-design/icons\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nconst RatingModal = ({ children }) => {\n  const { user } = useSelector((state) => ({ ...state }));\n  const [modalVisible, setModalVisible] = useState(false);\n\n  let history = useHistory();\n  let { slug } = useParams();\n\n  const handleModal = () => {\n    if (user && user.token) {\n      setModalVisible(true);\n    } else {\n      history.push({\n        pathname: \"/login\",\n        state: { from: `/product/${slug}` },\n      });\n    }\n  };\n\n  return (\n    <>\n      <div onClick={handleModal}>\n        <StarOutlined className=\"text-danger\" /> <br />{\" \"}\n        {user ? \"Leave rating\" : \"Login to leave rating\"}\n      </div>\n      <Modal\n        title=\"Leave your rating\"\n        centered\n        visible={modalVisible}\n        onOk={() => {\n          setModalVisible(false);\n          toast.success(\"Thanks for your review. It will apper soon\");\n        }}\n        onCancel={() => setModalVisible(false)}\n      >\n        {children}\n      </Modal>\n    </>\n  );\n};\n\nexport default RatingModal;\n","import React, { useState } from \"react\";\nimport { Card, Tabs, Tooltip } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport { HeartOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\nimport { Carousel } from \"react-responsive-carousel\";\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\nimport Laptop from \"../../images/laptop.png\";\nimport ProductListItems from \"./ProductListItems\";\nimport StarRating from \"react-star-ratings\";\nimport RatingModal from \"../modal/RatingModal\";\nimport { showAverage } from \"../../functions/rating\";\nimport _ from \"lodash\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { addToWishlist } from \"../../functions/user\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nconst { TabPane } = Tabs;\n\n// this is childrend component of Product page\nconst SingleProduct = ({ product, onStarClick, star }) => {\n  const [tooltip, setTooltip] = useState(\"Click to add\");\n\n  // redux\n  const { user, cart } = useSelector((state) => ({ ...state }));\n  const dispatch = useDispatch();\n  // router\n  let history = useHistory();\n\n  const { title, images, description, _id } = product;\n\n  const handleAddToCart = () => {\n    // create cart array\n    let cart = [];\n    if (typeof window !== \"undefined\") {\n      // if cart is in local storage GET it\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      }\n      // push new product to cart\n      cart.push({\n        ...product,\n        count: 1,\n      });\n      // remove duplicates\n      let unique = _.uniqWith(cart, _.isEqual);\n      // save to local storage\n      // console.log('unique', unique)\n      localStorage.setItem(\"cart\", JSON.stringify(unique));\n      // show tooltip\n      setTooltip(\"Added\");\n\n      // add to reeux state\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: unique,\n      });\n      // show cart items in side drawer\n      dispatch({\n        type: \"SET_VISIBLE\",\n        payload: true,\n      });\n    }\n  };\n\n  const handleAddToWishlist = (e) => {\n    e.preventDefault();\n    addToWishlist(product._id, user.token).then((res) => {\n      console.log(\"ADDED TO WISHLIST\", res.data);\n      toast.success(\"Added to wishlist\");\n      history.push(\"/user/wishlist\");\n    });\n  };\n\n  return (\n    <>\n      <div className=\"col-md-7\">\n        {images && images.length ? (\n          <Carousel showArrows={true} autoPlay infiniteLoop>\n            {images && images.map((i) => <img src={i.url} key={i.public_id} />)}\n          </Carousel>\n        ) : (\n          <Card cover={<img src={Laptop} className=\"mb-3 card-image\" />}></Card>\n        )}\n\n        <Tabs type=\"card\">\n          <TabPane tab=\"Description\" key=\"1\">\n            {description && description}\n          </TabPane>\n          <TabPane tab=\"More\" key=\"2\">\n            Call use on xxxx xxx xxx to learn more about this product.\n          </TabPane>\n        </Tabs>\n      </div>\n\n      <div className=\"col-md-5\">\n        <h1 className=\"bg-info p-3\">{title}</h1>\n\n        {product && product.ratings && product.ratings.length > 0 ? (\n          showAverage(product)\n        ) : (\n          <div className=\"text-center pt-1 pb-3\">No rating yet</div>\n        )}\n\n        <Card\n          actions={[\n            <Tooltip placement=\"top\" title={tooltip}>\n              <a onClick={handleAddToCart} disabled={product.quantity < 1}>\n                <ShoppingCartOutlined className=\"text-danger\" />\n                <br />\n                {product.quantity < 1 ? \"Out of Stock\" : \"Add To Cart\"}\n              </a>\n            </Tooltip>,\n            <a onClick={handleAddToWishlist}>\n              <HeartOutlined className=\"text-info\" /> <br /> Add to Wishlist\n            </a>,\n            <RatingModal>\n              <StarRating\n                name={_id}\n                numberOfStars={5}\n                rating={star}\n                changeRating={onStarClick}\n                isSelectable={true}\n                starRatedColor=\"red\"\n              />\n            </RatingModal>,\n          ]}\n        >\n          <ProductListItems product={product} />\n        </Card>\n      </div>\n    </>\n  );\n};\n\nexport default SingleProduct;\n","import React, { useEffect, useState } from \"react\";\nimport { getProduct, productStar } from \"../functions/product\";\nimport SingleProduct from \"../components/cards/SingleProduct\";\nimport { useSelector } from \"react-redux\";\nimport { getRelated } from \"../functions/product\";\nimport ProductCard from \"../components/cards/ProductCard\";\n\nconst Product = ({ match }) => {\n  const [product, setProduct] = useState({});\n  const [related, setRelated] = useState([]);\n  const [star, setStar] = useState(0);\n  // redux\n  const { user } = useSelector((state) => ({ ...state }));\n\n  const { slug } = match.params;\n\n  useEffect(() => {\n    loadSingleProduct();\n  }, [slug]);\n\n  useEffect(() => {\n    if (product.ratings && user) {\n      let existingRatingObject = product.ratings.find(\n        (ele) => ele.postedBy.toString() === user._id.toString()\n      );\n      existingRatingObject && setStar(existingRatingObject.star); // current user's star\n    }\n  });\n\n  const loadSingleProduct = () => {\n    getProduct(slug).then((res) => {\n      setProduct(res.data);\n      // load related\n      getRelated(res.data._id).then((res) => setRelated(res.data));\n    });\n  };\n\n  const onStarClick = (newRating, name) => {\n    setStar(newRating);\n    console.table(newRating, name);\n    productStar(name, newRating, user.token).then((res) => {\n      console.log(\"rating clicked\", res.data);\n      loadSingleProduct(); // if you want to show updated rating in real time\n    });\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row pt-4\">\n        <SingleProduct\n          product={product}\n          onStarClick={onStarClick}\n          star={star}\n        />\n      </div>\n\n      <div className=\"row\">\n        <div className=\"col text-center pt-5 pb-5\">\n          <hr />\n          <h4>Related Products</h4>\n          <hr />\n        </div>\n      </div>\n\n      <div className=\"row pb-5\">\n        {related.length ? (\n          related.map((r) => (\n            <div key={r._id} className=\"col-md-4\">\n              <ProductCard product={r} />\n            </div>\n          ))\n        ) : (\n          <div className=\"text-center col\">No Products Found</div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Product;\n"],"names":["Meta","Card","product","useState","tooltip","setTooltip","useSelector","state","dispatch","user","cart","useDispatch","images","title","description","slug","price","ratings","length","showAverage","className","cover","src","url","laptop","style","height","objectFit","actions","to","onClick","window","localStorage","getItem","JSON","parse","push","count","unique","_","setItem","stringify","type","payload","disabled","quantity","substring","createProduct","authtoken","axios","process","headers","getProductsByCount","removeProduct","getProduct","updateProduct","getProducts","sort","order","page","getProductsCount","productStar","productId","star","getRelated","fetchProductsByFilter","arg","p","ratingsArray","total","map","r","totalReduced","reduce","n","result","starDimension","starSpacing","starRatedColor","rating","editing","userCart","getUserCart","emptyUserCart","saveUserAddress","address","applyCoupon","coupon","createOrder","stripeResponse","getUserOrders","getWishlist","removeWishlist","addToWishlist","createCashOrderForUser","COD","couponTrueOrFalse","couponApplied","category","subs","shipping","color","brand","sold","name","s","_id","children","modalVisible","setModalVisible","history","useHistory","useParams","token","pathname","from","StarOutlined","centered","visible","onOk","toast","onCancel","TabPane","Tabs","onStarClick","showArrows","autoPlay","infiniteLoop","i","public_id","Laptop","tab","placement","ShoppingCartOutlined","e","preventDefault","then","res","console","log","data","HeartOutlined","numberOfStars","changeRating","isSelectable","match","setProduct","related","setRelated","setStar","params","useEffect","loadSingleProduct","existingRatingObject","find","ele","postedBy","toString","newRating","table","ProductCard"],"sourceRoot":""}