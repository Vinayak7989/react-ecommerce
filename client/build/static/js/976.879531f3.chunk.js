"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[976],{98189:function(t,e,n){var r=n(1413),a=n(29439),c=n(72791),s=n(65509),u=n(52419),i=n(24215),o=n(86533),l=n(68823),p=n(91523),d=n(50538),f=n(763),h=n.n(f),x=n(59434),m=n(80184),v=s.Z.Meta;e.Z=function(t){var e=t.product,n=(0,c.useState)("Click to add"),f=(0,a.Z)(n,2),b=f[0],g=f[1],Z=(0,x.v9)((function(t){return(0,r.Z)({},t)})),k=(Z.user,Z.cart,(0,x.I0)()),j=e.images,w=e.title,y=e.description,N=e.slug,S=e.price;return(0,m.jsxs)(m.Fragment,{children:[e&&e.ratings&&e.ratings.length>0?(0,d.m)(e):(0,m.jsx)("div",{className:"text-center pt-1 pb-3",children:"No rating yet"}),(0,m.jsx)(s.Z,{cover:(0,m.jsx)("img",{src:j&&j.length?j[0].url:l,style:{height:"150px",objectFit:"cover"},className:"p-1"}),actions:[(0,m.jsxs)(p.rU,{to:"/product/".concat(N),children:[(0,m.jsx)(i.Z,{className:"text-warning"})," ",(0,m.jsx)("br",{})," View Product"]}),(0,m.jsx)(u.Z,{title:b,children:(0,m.jsxs)("a",{onClick:function(){var t=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.push((0,r.Z)((0,r.Z)({},e),{},{count:1}));var n=h().uniqWith(t,h().isEqual);localStorage.setItem("cart",JSON.stringify(n)),g("Added"),k({type:"ADD_TO_CART",payload:n}),k({type:"SET_VISIBLE",payload:!0})}},disabled:e.quantity<1,children:[(0,m.jsx)(o.Z,{className:"text-danger"})," ",(0,m.jsx)("br",{}),e.quantity<1?"Out of stock":"Add to Cart"]})})],children:(0,m.jsx)(v,{title:"".concat(w," - $").concat(S),description:"".concat(y&&y.substring(0,40),"...")})})]})}},57027:function(t,e,n){n.d(e,{Ej:function(){return h},RB:function(){return m},Xp:function(){return d},Y2:function(){return f},cE:function(){return x},kh:function(){return o},nM:function(){return p},ry:function(){return u},su:function(){return i},wv:function(){return l}});var r=n(74165),a=n(15861),c=n(74569),s=n.n(c),u=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().post("".concat("https://ecom-backend-steel.vercel.app/api","/product"),e,{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),i=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().get("".concat("https://ecom-backend-steel.vercel.app/api","/products/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().delete("".concat("https://ecom-backend-steel.vercel.app/api","/product/").concat(e),{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),l=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().get("".concat("https://ecom-backend-steel.vercel.app/api","/product/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n,a){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().put("".concat("https://ecom-backend-steel.vercel.app/api","/product/").concat(e),n,{headers:{authtoken:a}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),d=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n,a){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().post("".concat("https://ecom-backend-steel.vercel.app/api","/products"),{sort:e,order:n,page:a});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),f=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().get("".concat("https://ecom-backend-steel.vercel.app/api","/products/total"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n,a){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().put("".concat("https://ecom-backend-steel.vercel.app/api","/product/star/").concat(e),{star:n},{headers:{authtoken:a}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),x=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().get("".concat("https://ecom-backend-steel.vercel.app/api","/product/related/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().post("".concat("https://ecom-backend-steel.vercel.app/api","/search/filters"),e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},50538:function(t,e,n){n.d(e,{m:function(){return c}});n(72791);var r=n(45778),a=n(80184),c=function(t){if(t&&t.ratings){var e=t&&t.ratings,n=[],c=e.length;e.map((function(t){return n.push(t.star)}));var s=n.reduce((function(t,e){return t+e}),0),u=5*s/(5*c);return(0,a.jsx)("div",{className:"text-center pt-1 pb-3",children:(0,a.jsxs)("span",{children:[(0,a.jsx)(r.Z,{starDimension:"20px",starSpacing:"2px",starRatedColor:"red",rating:u,editing:!1})," ","(",t.ratings.length,")"]})})}}},60377:function(t,e,n){n.d(e,{E9:function(){return u},Ih:function(){return x},JM:function(){return l},LV:function(){return d},Mp:function(){return m},WK:function(){return i},cU:function(){return v},gl:function(){return o},sA:function(){return h},uI:function(){return f},zL:function(){return p}});var r=n(74165),a=n(15861),c=n(74569),s=n.n(c),u=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().post("".concat("https://ecom-backend-steel.vercel.app/api","/user/cart"),{cart:e},{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),i=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().get("".concat("https://ecom-backend-steel.vercel.app/api","/user/cart"),{headers:{authtoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().delete("".concat("https://ecom-backend-steel.vercel.app/api","/user/cart"),{headers:{authtoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().post("".concat("https://ecom-backend-steel.vercel.app/api","/user/address"),{address:n},{headers:{authtoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),p=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().post("".concat("https://ecom-backend-steel.vercel.app/api","/user/cart/coupon"),{coupon:n},{headers:{authtoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),d=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().post("".concat("https://ecom-backend-steel.vercel.app/api","/user/order"),{stripeResponse:e},{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),f=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().get("".concat("https://ecom-backend-steel.vercel.app/api","/user/orders"),{headers:{authtoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().get("".concat("https://ecom-backend-steel.vercel.app/api","/user/wishlist"),{headers:{authtoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().put("".concat("https://ecom-backend-steel.vercel.app/api","/user/wishlist/").concat(e),{},{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),m=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().post("".concat("https://ecom-backend-steel.vercel.app/api","/user/wishlist"),{productId:e},{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),v=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n,a){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().post("".concat("https://ecom-backend-steel.vercel.app/api","/user/cash-order"),{couponApplied:a,COD:n},{headers:{authtoken:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},72368:function(t,e,n){n.r(e),n.d(e,{default:function(){return O}});var r=n(1413),a=n(29439),c=n(72791),s=n(57027),u=n(4640),i=n(65509),o=n(52419),l=n(86533),p=n(47391),d=n(30197),f=(n(88040),n(68823)),h=n(91523),x=n(80184),m=function(t){var e=t.product,n=e.price,r=e.category,a=e.subs,c=e.shipping,s=e.color,u=e.brand,i=e.quantity,o=e.sold;return(0,x.jsxs)("ul",{className:"list-group",children:[(0,x.jsxs)("li",{className:"list-group-item",children:["Price"," ",(0,x.jsxs)("span",{className:"label label-default label-pill pull-xs-right",children:["$ ",n]})]}),r&&(0,x.jsxs)("li",{className:"list-group-item",children:["Category"," ",(0,x.jsx)(h.rU,{to:"/category/".concat(r.slug),className:"label label-default label-pill pull-xs-right",children:r.name})]}),a&&(0,x.jsxs)("li",{className:"list-group-item",children:["Sub Categories",a.map((function(t){return(0,x.jsx)(h.rU,{to:"/sub/".concat(t.slug),className:"label label-default label-pill pull-xs-right",children:t.name},t._id)}))]}),(0,x.jsxs)("li",{className:"list-group-item",children:["Shipping"," ",(0,x.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:c})]}),(0,x.jsxs)("li",{className:"list-group-item",children:["Color"," ",(0,x.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:s})]}),(0,x.jsxs)("li",{className:"list-group-item",children:["Brand"," ",(0,x.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:u})]}),(0,x.jsxs)("li",{className:"list-group-item",children:["Available"," ",(0,x.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:i})]}),(0,x.jsxs)("li",{className:"list-group-item",children:["Sold"," ",(0,x.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:o})]})]})},v=n(45778),b=n(77914),g=n(9085),Z=n(59434),k=n(80740),j=n(28931),w=function(t){var e=t.children,n=(0,Z.v9)((function(t){return(0,r.Z)({},t)})).user,s=(0,c.useState)(!1),u=(0,a.Z)(s,2),i=u[0],o=u[1],l=(0,j.k6)(),p=(0,j.UO)().slug;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{onClick:function(){n&&n.token?o(!0):l.push({pathname:"/login",state:{from:"/product/".concat(p)}})},children:[(0,x.jsx)(k.Z,{className:"text-danger"})," ",(0,x.jsx)("br",{})," ",n?"Leave rating":"Login to leave rating"]}),(0,x.jsx)(b.Z,{title:"Leave your rating",centered:!0,visible:i,onOk:function(){o(!1),g.Am.success("Thanks for your review. It will apper soon")},onCancel:function(){return o(!1)},children:e})]})},y=n(50538),N=n(763),S=n.n(N),C=n(60377),I=u.Z.TabPane,A=function(t){var e=t.product,n=t.onStarClick,s=t.star,h=(0,c.useState)("Click to add"),b=(0,a.Z)(h,2),k=b[0],N=b[1],A=(0,Z.v9)((function(t){return(0,r.Z)({},t)})),E=A.user,O=(A.cart,(0,Z.I0)()),_=(0,j.k6)(),D=e.title,T=e.images,q=e.description,L=e._id;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"col-md-7",children:[T&&T.length?(0,x.jsx)(d.lr,{showArrows:!0,autoPlay:!0,infiniteLoop:!0,children:T&&T.map((function(t){return(0,x.jsx)("img",{src:t.url},t.public_id)}))}):(0,x.jsx)(i.Z,{cover:(0,x.jsx)("img",{src:f,className:"mb-3 card-image"})}),(0,x.jsxs)(u.Z,{type:"card",children:[(0,x.jsx)(I,{tab:"Description",children:q&&q},"1"),(0,x.jsx)(I,{tab:"More",children:"Call use on xxxx xxx xxx to learn more about this product."},"2")]})]}),(0,x.jsxs)("div",{className:"col-md-5",children:[(0,x.jsx)("h1",{className:"bg-info p-3",children:D}),e&&e.ratings&&e.ratings.length>0?(0,y.m)(e):(0,x.jsx)("div",{className:"text-center pt-1 pb-3",children:"No rating yet"}),(0,x.jsx)(i.Z,{actions:[(0,x.jsx)(o.Z,{placement:"top",title:k,children:(0,x.jsxs)("a",{onClick:function(){var t=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.push((0,r.Z)((0,r.Z)({},e),{},{count:1}));var n=S().uniqWith(t,S().isEqual);localStorage.setItem("cart",JSON.stringify(n)),N("Added"),O({type:"ADD_TO_CART",payload:n}),O({type:"SET_VISIBLE",payload:!0})}},disabled:e.quantity<1,children:[(0,x.jsx)(l.Z,{className:"text-danger"}),(0,x.jsx)("br",{}),e.quantity<1?"Out of Stock":"Add To Cart"]})}),(0,x.jsxs)("a",{onClick:function(t){t.preventDefault(),(0,C.Mp)(e._id,E.token).then((function(t){console.log("ADDED TO WISHLIST",t.data),g.Am.success("Added to wishlist"),_.push("/user/wishlist")}))},children:[(0,x.jsx)(p.Z,{className:"text-info"})," ",(0,x.jsx)("br",{})," Add to Wishlist"]}),(0,x.jsx)(w,{children:(0,x.jsx)(v.Z,{name:L,numberOfStars:5,rating:s,changeRating:n,isSelectable:!0,starRatedColor:"red"})})],children:(0,x.jsx)(m,{product:e})})]})]})},E=n(98189),O=function(t){var e=t.match,n=(0,c.useState)({}),u=(0,a.Z)(n,2),i=u[0],o=u[1],l=(0,c.useState)([]),p=(0,a.Z)(l,2),d=p[0],f=p[1],h=(0,c.useState)(0),m=(0,a.Z)(h,2),v=m[0],b=m[1],g=(0,Z.v9)((function(t){return(0,r.Z)({},t)})).user,k=e.params.slug;(0,c.useEffect)((function(){j()}),[k]),(0,c.useEffect)((function(){if(i.ratings&&g){var t=i.ratings.find((function(t){return t.postedBy.toString()===g._id.toString()}));t&&b(t.star)}}));var j=function(){(0,s.wv)(k).then((function(t){o(t.data),(0,s.cE)(t.data._id).then((function(t){return f(t.data)}))}))};return(0,x.jsxs)("div",{className:"container-fluid",children:[(0,x.jsx)("div",{className:"row pt-4",children:(0,x.jsx)(A,{product:i,onStarClick:function(t,e){b(t),console.table(t,e),(0,s.Ej)(e,t,g.token).then((function(t){console.log("rating clicked",t.data),j()}))},star:v})}),(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col text-center pt-5 pb-5",children:[(0,x.jsx)("hr",{}),(0,x.jsx)("h4",{children:"Related Products"}),(0,x.jsx)("hr",{})]})}),(0,x.jsx)("div",{className:"row pb-5",children:d.length?d.map((function(t){return(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)(E.Z,{product:t})},t._id)})):(0,x.jsx)("div",{className:"text-center col",children:"No Products Found"})})]})}},68823:function(t,e,n){t.exports=n.p+"static/media/laptop.db0a6ff48b7be36ecd23.png"}}]);
//# sourceMappingURL=976.879531f3.chunk.js.map